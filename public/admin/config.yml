backend:
  name: github
  repo: totsupo/totsupo
  branch: main
  base_url: https://totsupo.pages.dev
  auth_endpoint: /api/auth

media_folder: "public/images"
public_folder: "/images"

publish_mode: editorial_workflow
slug_encoding: ascii

collections:
  - name: news
    label: ニュース
    folder: "src/content/news"
    format: "frontmatter"
    create: true
    slug: "{{year}}{{month}}{{day}}-{{fields.title | slugify}}"
    fields:
      - { name: title,   label: タイトル }
      - { name: excerpt, label: 抜粋, widget: text }
      - { name: date,    label: 公開日, widget: datetime }
      - { name: category,label: カテゴリ }
      - { name: image,   label: アイキャッチ, widget: image }
      - { name: author,  label: 編集者, required: false }
      - name: tags
        label: タグ
        label_singular: タグ
        widget: list
        required: false
        field:
          label: タグ
          name: tag
          widget: string
      - name: related
        label: 関連記事
        widget: relation
        collection: news
        search_fields: [ title ]
        display_fields: [ title ]
        value_field: slug
        multiple: true
        required: false
      - { name: body,    label: 本文, widget: markdown }
